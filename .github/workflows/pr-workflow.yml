name: PR workflow ğŸª¢ğŸ‘¨ğŸ¼â€ğŸ’»
on:
  pull_request:
    types:
      - opened
      - edited
      - synchronize
      - ready_for_review
      - reopened
      - labeled
      - unlabeled

jobs:
  labeler:
    name: Label Police ğŸ·ğŸ‘®ğŸ»â€â™‚ï¸
    runs-on: ubuntu-latest
    steps:
      - name: Labeler ğŸ¤–ğŸ·
        uses: fuxingloh/multi-labeler@v1

      - name: Check for conventional Commits labels âœ¨ ğŸ› ğŸ§°
        uses: docker://agilepathway/pull-request-label-checker:latest
        with:
          one_of: feature,fix,chore
          repo_token: ${{ secrets.GITHUB_TOKEN }}

      - name: Check for basic PR labels ğŸ‘®ğŸ»â€â™‚ï¸ğŸ·
        uses: docker://agilepathway/pull-request-label-checker:latest
        with:
          none_of: |
            duplicate ğŸ‘¯â€â™‚ï¸,invalid ğŸ™Š,tasks to complete,wontfix ğŸ§Œ,locked: breaking ğŸ’¥,locked: resolved âœ…,locked: spam ğŸ‘®ğŸ»â€â™‚ï¸,state: blocked,state: inactive,state: waiting...,
          repo_token: ${{ secrets.GITHUB_TOKEN }}

      - name: Check for effort labels ğŸ’ªğŸ¼ğŸ‘¨ğŸ¼â€ğŸ’»
        uses: docker://agilepathway/pull-request-label-checker:latest
        with:
          one_of: |
            effort: 1ï¸âƒ£,effort: 1ï¸âƒ£3ï¸âƒ£,effort: 2ï¸âƒ£,effort: 3ï¸âƒ£,effort: 5ï¸âƒ£,effort: 8ï¸âƒ£,
          repo_token: ${{ secrets.GITHUB_TOKEN }}

      - name: Check for work labels ğŸ§ ğŸ‘©ğŸ¼â€ğŸ’»
        uses: docker://agilepathway/pull-request-label-checker:latest
        with:
          one_of: |
            work: clear ğŸ¥±,work: complex ğŸ˜³,work: complicated ğŸ˜¬,work: chaotic ğŸ˜±,
          repo_token: ${{ secrets.GITHUB_TOKEN }}

      - name: Check for type labels ğŸ– ğŸ¦ƒ ğŸ·
        uses: docker://agilepathway/pull-request-label-checker:latest
        with:
          one_of: |
            type: fix ğŸ©¹,type: security ğŸ”’,type: documentation ğŸ“,type: infrastructure ğŸ§±,type: feature âœ¨,type: hotfix ğŸš‘,type: bug ğŸ›,type: testing ğŸ”,type: dx ğŸ‘©ğŸ¼â€ğŸ’»,type: ci/cd ğŸ‘·ğŸ¾,type: improvement âš¡ï¸,
          repo_token: ${{ secrets.GITHUB_TOKEN }}
